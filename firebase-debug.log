[debug] [2025-07-29T19:05:55.466Z] ----------------------------------------------------------------------
[debug] [2025-07-29T19:05:55.474Z] Command:       C:\Program Files\nodejs\node.exe C:\Users\iras8\AppData\Roaming\npm\node_modules\firebase-tools\lib\bin\firebase.js deploy
[debug] [2025-07-29T19:05:55.475Z] CLI Version:   14.11.1
[debug] [2025-07-29T19:05:55.475Z] Platform:      win32
[debug] [2025-07-29T19:05:55.475Z] Node Version:  v22.17.0
[debug] [2025-07-29T19:05:55.475Z] Time:          Tue Jul 29 2025 21:05:55 GMT+0200 (hora de verano de Europa central)
[debug] [2025-07-29T19:05:55.475Z] ----------------------------------------------------------------------
[debug] 
[debug] [2025-07-29T19:05:55.477Z] >>> [apiv2][query] GET https://firebase-public.firebaseio.com/cli.json [none]
[debug] [2025-07-29T19:05:55.685Z] Object "/apphosting" in "firebase.json" is missing required property: {"missingProperty":"backendId"}
[debug] [2025-07-29T19:05:55.685Z] Field "/apphosting" in "firebase.json" is possibly invalid: must be array
[debug] [2025-07-29T19:05:55.685Z] Field "/apphosting" in "firebase.json" is possibly invalid: must match a schema in anyOf
[debug] [2025-07-29T19:05:55.690Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2025-07-29T19:05:55.690Z] > authorizing via signed-in user (iapertsonala@gmail.com)
[debug] [2025-07-29T19:05:55.690Z] [iam] checking project infovault-reurt for permissions ["firebase.projects.get",null]
[debug] [2025-07-29T19:05:55.691Z] Checked if tokens are valid: false, expires at: 1753747060757
[debug] [2025-07-29T19:05:55.691Z] Checked if tokens are valid: false, expires at: 1753747060757
[debug] [2025-07-29T19:05:55.691Z] > refreshing access token with scopes: []
[debug] [2025-07-29T19:05:55.692Z] >>> [apiv2][query] POST https://www.googleapis.com/oauth2/v3/token [none]
[debug] [2025-07-29T19:05:55.692Z] >>> [apiv2][body] POST https://www.googleapis.com/oauth2/v3/token [omitted]
[debug] [2025-07-29T19:05:55.881Z] <<< [apiv2][status] POST https://www.googleapis.com/oauth2/v3/token 200
[debug] [2025-07-29T19:05:55.881Z] <<< [apiv2][body] POST https://www.googleapis.com/oauth2/v3/token [omitted]
[debug] [2025-07-29T19:05:55.887Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/infovault-reurt:testIamPermissions [none]
[debug] [2025-07-29T19:05:55.887Z] >>> [apiv2][(partial)header] POST https://cloudresourcemanager.googleapis.com/v1/projects/infovault-reurt:testIamPermissions x-goog-quota-user=projects/infovault-reurt
[debug] [2025-07-29T19:05:55.887Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/infovault-reurt:testIamPermissions {"permissions":["firebase.projects.get",null]}
[debug] [2025-07-29T19:05:56.007Z] <<< [apiv2][status] GET https://firebase-public.firebaseio.com/cli.json 200
[debug] [2025-07-29T19:05:56.007Z] <<< [apiv2][body] GET https://firebase-public.firebaseio.com/cli.json {"cloudBuildErrorAfter":1594252800000,"cloudBuildWarnAfter":1590019200000,"defaultNode10After":1594252800000,"minVersion":"3.0.5","node8DeploysDisabledAfter":1613390400000,"node8RuntimeDisabledAfter":1615809600000,"node8WarnAfter":1600128000000}
[debug] [2025-07-29T19:05:56.664Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/infovault-reurt:testIamPermissions 200
[debug] [2025-07-29T19:05:56.664Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/infovault-reurt:testIamPermissions {"permissions":["firebase.projects.get"]}
[debug] [2025-07-29T19:05:56.664Z] [iam] error while checking permissions, command may fail: Authorization failed. This account is missing the following required permissions on project infovault-reurt:

  
[info] 
[info] === Deploying to 'infovault-reurt'...
[info] 
[info] i  deploying apphosting 
[debug] [2025-07-29T19:05:56.667Z] Checked if tokens are valid: true, expires at: 1753819554881
[debug] [2025-07-29T19:05:56.668Z] Checked if tokens are valid: true, expires at: 1753819554881
[debug] [2025-07-29T19:05:56.668Z] >>> [apiv2][query] POST https://iam.googleapis.com/v1/projects/infovault-reurt/serviceAccounts/firebase-app-hosting-compute@infovault-reurt.iam.gserviceaccount.com:testIamPermissions [none]
[debug] [2025-07-29T19:05:56.668Z] >>> [apiv2][(partial)header] POST https://iam.googleapis.com/v1/projects/infovault-reurt/serviceAccounts/firebase-app-hosting-compute@infovault-reurt.iam.gserviceaccount.com:testIamPermissions x-goog-quota-user=projects/infovault-reurt
[debug] [2025-07-29T19:05:56.668Z] >>> [apiv2][body] POST https://iam.googleapis.com/v1/projects/infovault-reurt/serviceAccounts/firebase-app-hosting-compute@infovault-reurt.iam.gserviceaccount.com:testIamPermissions {"permissions":["iam.serviceAccounts.actAs"]}
[debug] [2025-07-29T19:05:57.437Z] <<< [apiv2][status] POST https://iam.googleapis.com/v1/projects/infovault-reurt/serviceAccounts/firebase-app-hosting-compute@infovault-reurt.iam.gserviceaccount.com:testIamPermissions 200
[debug] [2025-07-29T19:05:57.438Z] <<< [apiv2][body] POST https://iam.googleapis.com/v1/projects/infovault-reurt/serviceAccounts/firebase-app-hosting-compute@infovault-reurt.iam.gserviceaccount.com:testIamPermissions {"permissions":["iam.serviceAccounts.actAs"]}
[debug] [2025-07-29T19:05:57.438Z] Checked if tokens are valid: true, expires at: 1753819554881
[debug] [2025-07-29T19:05:57.438Z] Checked if tokens are valid: true, expires at: 1753819554881
[debug] [2025-07-29T19:05:57.438Z] >>> [apiv2][query] POST https://iam.googleapis.com/v1/projects/infovault-reurt/serviceAccounts [none]
[debug] [2025-07-29T19:05:57.438Z] >>> [apiv2][body] POST https://iam.googleapis.com/v1/projects/infovault-reurt/serviceAccounts {"accountId":"firebase-app-hosting-compute","serviceAccount":{"displayName":"Firebase App Hosting compute service account","description":"Default service account used to run builds and deploys for Firebase App Hosting"}}
[debug] [2025-07-29T19:05:57.723Z] <<< [apiv2][status] POST https://iam.googleapis.com/v1/projects/infovault-reurt/serviceAccounts 409
[debug] [2025-07-29T19:05:57.723Z] <<< [apiv2][body] POST https://iam.googleapis.com/v1/projects/infovault-reurt/serviceAccounts [omitted]
[debug] [2025-07-29T19:05:57.724Z] Checked if tokens are valid: true, expires at: 1753819554881
[debug] [2025-07-29T19:05:57.724Z] Checked if tokens are valid: true, expires at: 1753819554881
[debug] [2025-07-29T19:05:57.724Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/infovault-reurt:getIamPolicy [none]
[debug] [2025-07-29T19:05:58.010Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/infovault-reurt:getIamPolicy 200
[debug] [2025-07-29T19:05:58.010Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/infovault-reurt:getIamPolicy {"version":1,"etag":"BwY7FYIWCnE=","bindings":[{"role":"roles/cloudaicompanion.serviceAgent","members":["serviceAccount:service-581885567157@gcp-sa-cloudaicompanion.iam.gserviceaccount.com"]},{"role":"roles/cloudbuild.builds.builder","members":["serviceAccount:581885567157@cloudbuild.gserviceaccount.com"]},{"role":"roles/cloudbuild.serviceAgent","members":["serviceAccount:service-581885567157@gcp-sa-cloudbuild.iam.gserviceaccount.com"]},{"role":"roles/cloudfunctions.developer","members":["serviceAccount:github-action-1027904513@infovault-reurt.iam.gserviceaccount.com"]},{"role":"roles/cloudfunctions.serviceAgent","members":["serviceAccount:service-581885567157@gcf-admin-robot.iam.gserviceaccount.com"]},{"role":"roles/compute.serviceAgent","members":["serviceAccount:service-581885567157@compute-system.iam.gserviceaccount.com"]},{"role":"roles/containerregistry.ServiceAgent","members":["serviceAccount:service-581885567157@containerregistry.iam.gserviceaccount.com"]},{"role":"roles/developerconnect.readTokenAccessor","members":["serviceAccount:firebase-app-hosting-compute@infovault-reurt.iam.gserviceaccount.com"]},{"role":"roles/editor","members":["serviceAccount:581885567157-compute@developer.gserviceaccount.com","serviceAccount:581885567157@cloudservices.gserviceaccount.com","serviceAccount:infovault-reurt@appspot.gserviceaccount.com"]},{"role":"roles/firebase.managementServiceAgent","members":["serviceAccount:service-581885567157@gcp-sa-firebase.iam.gserviceaccount.com"]},{"role":"roles/firebase.sdkAdminServiceAgent","members":["serviceAccount:firebase-adminsdk-fbsvc@infovault-reurt.iam.gserviceaccount.com","serviceAccount:firebase-app-hosting-compute@infovault-reurt.iam.gserviceaccount.com"]},{"role":"roles/firebaseapphosting.computeRunner","members":["serviceAccount:firebase-app-hosting-compute@infovault-reurt.iam.gserviceaccount.com"]},{"role":"roles/firebaseapphosting.serviceAgent","members":["serviceAccount:service-581885567157@gcp-sa-firebaseapphosting.iam.gserviceaccount.com"]},{"role":"roles/firebaseauth.admin","members":["serviceAccount:github-action-1027904513@infovault-reurt.iam.gserviceaccount.com"]},{"role":"roles/firebasehosting.admin","members":["serviceAccount:github-action-1027904513@infovault-reurt.iam.gserviceaccount.com"]},{"role":"roles/firebaserules.system","members":["serviceAccount:service-581885567157@firebase-rules.iam.gserviceaccount.com"]},{"role":"roles/firebasestorage.serviceAgent","members":["serviceAccount:service-581885567157@gcp-sa-firebasestorage.iam.gserviceaccount.com"]},{"role":"roles/firestore.serviceAgent","members":["serviceAccount:service-581885567157@gcp-sa-firestore.iam.gserviceaccount.com"]},{"role":"roles/iam.serviceAccountTokenCreator","members":["serviceAccount:firebase-adminsdk-fbsvc@infovault-reurt.iam.gserviceaccount.com"]},{"role":"roles/owner","members":["user:iapertsonala@gmail.com"]},{"role":"roles/run.serviceAgent","members":["serviceAccount:service-581885567157@serverless-robot-prod.iam.gserviceaccount.com"]},{"role":"roles/run.viewer","members":["serviceAccount:github-action-1027904513@infovault-reurt.iam.gserviceaccount.com"]},{"role":"roles/serviceusage.apiKeysViewer","members":["serviceAccount:github-action-1027904513@infovault-reurt.iam.gserviceaccount.com"]},{"role":"roles/serviceusage.serviceUsageConsumer","members":["serviceAccount:github-action-1027904513@infovault-reurt.iam.gserviceaccount.com"]},{"role":"roles/storage.admin","members":["serviceAccount:firebase-adminsdk-fbsvc@infovault-reurt.iam.gserviceaccount.com"]},{"role":"roles/storage.objectViewer","members":["serviceAccount:firebase-app-hosting-compute@infovault-reurt.iam.gserviceaccount.com"]}]}
[debug] [2025-07-29T19:05:58.010Z] Checked if tokens are valid: true, expires at: 1753819554881
[debug] [2025-07-29T19:05:58.010Z] Checked if tokens are valid: true, expires at: 1753819554881
[debug] [2025-07-29T19:05:58.011Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/infovault-reurt:setIamPolicy [none]
[debug] [2025-07-29T19:05:58.011Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/infovault-reurt:setIamPolicy {"policy":{"version":1,"etag":"BwY7FYIWCnE=","bindings":[{"role":"roles/cloudaicompanion.serviceAgent","members":["serviceAccount:service-581885567157@gcp-sa-cloudaicompanion.iam.gserviceaccount.com"]},{"role":"roles/cloudbuild.builds.builder","members":["serviceAccount:581885567157@cloudbuild.gserviceaccount.com"]},{"role":"roles/cloudbuild.serviceAgent","members":["serviceAccount:service-581885567157@gcp-sa-cloudbuild.iam.gserviceaccount.com"]},{"role":"roles/cloudfunctions.developer","members":["serviceAccount:github-action-1027904513@infovault-reurt.iam.gserviceaccount.com"]},{"role":"roles/cloudfunctions.serviceAgent","members":["serviceAccount:service-581885567157@gcf-admin-robot.iam.gserviceaccount.com"]},{"role":"roles/compute.serviceAgent","members":["serviceAccount:service-581885567157@compute-system.iam.gserviceaccount.com"]},{"role":"roles/containerregistry.ServiceAgent","members":["serviceAccount:service-581885567157@containerregistry.iam.gserviceaccount.com"]},{"role":"roles/developerconnect.readTokenAccessor","members":["serviceAccount:firebase-app-hosting-compute@infovault-reurt.iam.gserviceaccount.com"]},{"role":"roles/editor","members":["serviceAccount:581885567157-compute@developer.gserviceaccount.com","serviceAccount:581885567157@cloudservices.gserviceaccount.com","serviceAccount:infovault-reurt@appspot.gserviceaccount.com"]},{"role":"roles/firebase.managementServiceAgent","members":["serviceAccount:service-581885567157@gcp-sa-firebase.iam.gserviceaccount.com"]},{"role":"roles/firebase.sdkAdminServiceAgent","members":["serviceAccount:firebase-adminsdk-fbsvc@infovault-reurt.iam.gserviceaccount.com","serviceAccount:firebase-app-hosting-compute@infovault-reurt.iam.gserviceaccount.com"]},{"role":"roles/firebaseapphosting.computeRunner","members":["serviceAccount:firebase-app-hosting-compute@infovault-reurt.iam.gserviceaccount.com"]},{"role":"roles/firebaseapphosting.serviceAgent","members":["serviceAccount:service-581885567157@gcp-sa-firebaseapphosting.iam.gserviceaccount.com"]},{"role":"roles/firebaseauth.admin","members":["serviceAccount:github-action-1027904513@infovault-reurt.iam.gserviceaccount.com"]},{"role":"roles/firebasehosting.admin","members":["serviceAccount:github-action-1027904513@infovault-reurt.iam.gserviceaccount.com"]},{"role":"roles/firebaserules.system","members":["serviceAccount:service-581885567157@firebase-rules.iam.gserviceaccount.com"]},{"role":"roles/firebasestorage.serviceAgent","members":["serviceAccount:service-581885567157@gcp-sa-firebasestorage.iam.gserviceaccount.com"]},{"role":"roles/firestore.serviceAgent","members":["serviceAccount:service-581885567157@gcp-sa-firestore.iam.gserviceaccount.com"]},{"role":"roles/iam.serviceAccountTokenCreator","members":["serviceAccount:firebase-adminsdk-fbsvc@infovault-reurt.iam.gserviceaccount.com"]},{"role":"roles/owner","members":["user:iapertsonala@gmail.com"]},{"role":"roles/run.serviceAgent","members":["serviceAccount:service-581885567157@serverless-robot-prod.iam.gserviceaccount.com"]},{"role":"roles/run.viewer","members":["serviceAccount:github-action-1027904513@infovault-reurt.iam.gserviceaccount.com"]},{"role":"roles/serviceusage.apiKeysViewer","members":["serviceAccount:github-action-1027904513@infovault-reurt.iam.gserviceaccount.com"]},{"role":"roles/serviceusage.serviceUsageConsumer","members":["serviceAccount:github-action-1027904513@infovault-reurt.iam.gserviceaccount.com"]},{"role":"roles/storage.admin","members":["serviceAccount:firebase-adminsdk-fbsvc@infovault-reurt.iam.gserviceaccount.com"]},{"role":"roles/storage.objectViewer","members":["serviceAccount:firebase-app-hosting-compute@infovault-reurt.iam.gserviceaccount.com"]}]},"updateMask":"bindings"}
[debug] [2025-07-29T19:05:59.230Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/infovault-reurt:setIamPolicy 200
[debug] [2025-07-29T19:05:59.231Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/infovault-reurt:setIamPolicy {"version":1,"etag":"BwY7Fhk44ug=","bindings":[{"role":"roles/cloudaicompanion.serviceAgent","members":["serviceAccount:service-581885567157@gcp-sa-cloudaicompanion.iam.gserviceaccount.com"]},{"role":"roles/cloudbuild.builds.builder","members":["serviceAccount:581885567157@cloudbuild.gserviceaccount.com"]},{"role":"roles/cloudbuild.serviceAgent","members":["serviceAccount:service-581885567157@gcp-sa-cloudbuild.iam.gserviceaccount.com"]},{"role":"roles/cloudfunctions.developer","members":["serviceAccount:github-action-1027904513@infovault-reurt.iam.gserviceaccount.com"]},{"role":"roles/cloudfunctions.serviceAgent","members":["serviceAccount:service-581885567157@gcf-admin-robot.iam.gserviceaccount.com"]},{"role":"roles/compute.serviceAgent","members":["serviceAccount:service-581885567157@compute-system.iam.gserviceaccount.com"]},{"role":"roles/containerregistry.ServiceAgent","members":["serviceAccount:service-581885567157@containerregistry.iam.gserviceaccount.com"]},{"role":"roles/developerconnect.readTokenAccessor","members":["serviceAccount:firebase-app-hosting-compute@infovault-reurt.iam.gserviceaccount.com"]},{"role":"roles/editor","members":["serviceAccount:581885567157-compute@developer.gserviceaccount.com","serviceAccount:581885567157@cloudservices.gserviceaccount.com","serviceAccount:infovault-reurt@appspot.gserviceaccount.com"]},{"role":"roles/firebase.managementServiceAgent","members":["serviceAccount:service-581885567157@gcp-sa-firebase.iam.gserviceaccount.com"]},{"role":"roles/firebase.sdkAdminServiceAgent","members":["serviceAccount:firebase-adminsdk-fbsvc@infovault-reurt.iam.gserviceaccount.com","serviceAccount:firebase-app-hosting-compute@infovault-reurt.iam.gserviceaccount.com"]},{"role":"roles/firebaseapphosting.computeRunner","members":["serviceAccount:firebase-app-hosting-compute@infovault-reurt.iam.gserviceaccount.com"]},{"role":"roles/firebaseapphosting.serviceAgent","members":["serviceAccount:service-581885567157@gcp-sa-firebaseapphosting.iam.gserviceaccount.com"]},{"role":"roles/firebaseauth.admin","members":["serviceAccount:github-action-1027904513@infovault-reurt.iam.gserviceaccount.com"]},{"role":"roles/firebasehosting.admin","members":["serviceAccount:github-action-1027904513@infovault-reurt.iam.gserviceaccount.com"]},{"role":"roles/firebaserules.system","members":["serviceAccount:service-581885567157@firebase-rules.iam.gserviceaccount.com"]},{"role":"roles/firebasestorage.serviceAgent","members":["serviceAccount:service-581885567157@gcp-sa-firebasestorage.iam.gserviceaccount.com"]},{"role":"roles/firestore.serviceAgent","members":["serviceAccount:service-581885567157@gcp-sa-firestore.iam.gserviceaccount.com"]},{"role":"roles/iam.serviceAccountTokenCreator","members":["serviceAccount:firebase-adminsdk-fbsvc@infovault-reurt.iam.gserviceaccount.com"]},{"role":"roles/owner","members":["user:iapertsonala@gmail.com"]},{"role":"roles/run.serviceAgent","members":["serviceAccount:service-581885567157@serverless-robot-prod.iam.gserviceaccount.com"]},{"role":"roles/run.viewer","members":["serviceAccount:github-action-1027904513@infovault-reurt.iam.gserviceaccount.com"]},{"role":"roles/serviceusage.apiKeysViewer","members":["serviceAccount:github-action-1027904513@infovault-reurt.iam.gserviceaccount.com"]},{"role":"roles/serviceusage.serviceUsageConsumer","members":["serviceAccount:github-action-1027904513@infovault-reurt.iam.gserviceaccount.com"]},{"role":"roles/storage.admin","members":["serviceAccount:firebase-adminsdk-fbsvc@infovault-reurt.iam.gserviceaccount.com"]},{"role":"roles/storage.objectViewer","members":["serviceAccount:firebase-app-hosting-compute@infovault-reurt.iam.gserviceaccount.com"]}]}
[debug] [2025-07-29T19:05:59.231Z] Checked if tokens are valid: true, expires at: 1753819554881
[debug] [2025-07-29T19:05:59.231Z] Checked if tokens are valid: true, expires at: 1753819554881
[debug] [2025-07-29T19:05:59.231Z] >>> [apiv2][query] GET https://firebaseapphosting.googleapis.com/v1beta/projects/infovault-reurt/locations/-/backends 
[debug] [2025-07-29T19:06:00.215Z] <<< [apiv2][status] GET https://firebaseapphosting.googleapis.com/v1beta/projects/infovault-reurt/locations/-/backends 200
[debug] [2025-07-29T19:06:00.215Z] <<< [apiv2][body] GET https://firebaseapphosting.googleapis.com/v1beta/projects/infovault-reurt/locations/-/backends {"backends":[{"name":"projects/infovault-reurt/locations/europe-west4/backends/mikelapp","createTime":"2025-07-28T18:55:43.612067834Z","updateTime":"2025-07-28T18:55:44.019508Z","labels":{"deployment-tool":"cli-firebase"},"uri":"mikelapp--infovault-reurt.europe-west4.hosted.app","uid":"d1e66594-a561-4759-92d3-8557b0246f36","etag":"9Jg_mguRluLLahlme_lOsDYU_vGAOrtGnImwmpOgI5s","reconciling":false,"servingLocality":"GLOBAL_ACCESS","serviceAccount":"firebase-app-hosting-compute@infovault-reurt.iam.gserviceaccount.com"}]}
[debug] [2025-07-29T19:06:43.277Z] TypeError: Cannot read properties of undefined (reading 'name')
    at C:\Users\iras8\AppData\Roaming\npm\node_modules\firebase-tools\node_modules\@inquirer\checkbox\dist\commonjs\index.js:51:29
    at Array.map (<anonymous>)
    at normalizeChoices (C:\Users\iras8\AppData\Roaming\npm\node_modules\firebase-tools\node_modules\@inquirer\checkbox\dist\commonjs\index.js:39:20)
    at C:\Users\iras8\AppData\Roaming\npm\node_modules\firebase-tools\node_modules\@inquirer\checkbox\dist\commonjs\index.js:72:52
    at C:\Users\iras8\AppData\Roaming\npm\node_modules\firebase-tools\node_modules\@inquirer\core\dist\commonjs\lib\create-prompt.js:120:38
    at store.handleChange (C:\Users\iras8\AppData\Roaming\npm\node_modules\firebase-tools\node_modules\@inquirer\core\dist\commonjs\lib\hook-engine.js:31:17)
    at cycle (C:\Users\iras8\AppData\Roaming\npm\node_modules\firebase-tools\node_modules\@inquirer\core\dist\commonjs\lib\hook-engine.js:33:19)
    at C:\Users\iras8\AppData\Roaming\npm\node_modules\firebase-tools\node_modules\@inquirer\core\dist\commonjs\lib\create-prompt.js:118:13
    at C:\Users\iras8\AppData\Roaming\npm\node_modules\firebase-tools\node_modules\@inquirer\core\dist\commonjs\lib\hook-engine.js:35:16
    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:91:14)
[error] 
[error] Error: An unexpected error has occurred.
[debug] [2025-07-29T19:11:01.055Z] ----------------------------------------------------------------------
[debug] [2025-07-29T19:11:01.058Z] Command:       C:\Program Files\nodejs\node.exe C:\Users\iras8\AppData\Roaming\npm\node_modules\firebase-tools\lib\bin\firebase.js deploy
[debug] [2025-07-29T19:11:01.058Z] CLI Version:   14.11.1
[debug] [2025-07-29T19:11:01.058Z] Platform:      win32
[debug] [2025-07-29T19:11:01.058Z] Node Version:  v22.17.0
[debug] [2025-07-29T19:11:01.058Z] Time:          Tue Jul 29 2025 21:11:01 GMT+0200 (hora de verano de Europa central)
[debug] [2025-07-29T19:11:01.059Z] ----------------------------------------------------------------------
[debug] 
[debug] [2025-07-29T19:11:01.214Z] Object "/apphosting" in "firebase.json" is missing required property: {"missingProperty":"backendId"}
[debug] [2025-07-29T19:11:01.214Z] Field "/apphosting" in "firebase.json" is possibly invalid: must be array
[debug] [2025-07-29T19:11:01.214Z] Field "/apphosting" in "firebase.json" is possibly invalid: must match a schema in anyOf
[debug] [2025-07-29T19:11:01.217Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2025-07-29T19:11:01.217Z] > authorizing via signed-in user (iapertsonala@gmail.com)
[debug] [2025-07-29T19:11:01.217Z] [iam] checking project infovault-reurt for permissions ["firebase.projects.get",null]
[debug] [2025-07-29T19:11:01.218Z] Checked if tokens are valid: true, expires at: 1753819554881
[debug] [2025-07-29T19:11:01.219Z] Checked if tokens are valid: true, expires at: 1753819554881
[debug] [2025-07-29T19:11:01.219Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/infovault-reurt:testIamPermissions [none]
[debug] [2025-07-29T19:11:01.219Z] >>> [apiv2][(partial)header] POST https://cloudresourcemanager.googleapis.com/v1/projects/infovault-reurt:testIamPermissions x-goog-quota-user=projects/infovault-reurt
[debug] [2025-07-29T19:11:01.219Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/infovault-reurt:testIamPermissions {"permissions":["firebase.projects.get",null]}
[debug] [2025-07-29T19:11:02.033Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/infovault-reurt:testIamPermissions 200
[debug] [2025-07-29T19:11:02.033Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/infovault-reurt:testIamPermissions {"permissions":["firebase.projects.get"]}
[debug] [2025-07-29T19:11:02.033Z] [iam] error while checking permissions, command may fail: Authorization failed. This account is missing the following required permissions on project infovault-reurt:

  
[info] 
[info] === Deploying to 'infovault-reurt'...
[info] 
[info] i  deploying apphosting 
[debug] [2025-07-29T19:11:02.037Z] Checked if tokens are valid: true, expires at: 1753819554881
[debug] [2025-07-29T19:11:02.037Z] Checked if tokens are valid: true, expires at: 1753819554881
[debug] [2025-07-29T19:11:02.037Z] >>> [apiv2][query] POST https://iam.googleapis.com/v1/projects/infovault-reurt/serviceAccounts/firebase-app-hosting-compute@infovault-reurt.iam.gserviceaccount.com:testIamPermissions [none]
[debug] [2025-07-29T19:11:02.037Z] >>> [apiv2][(partial)header] POST https://iam.googleapis.com/v1/projects/infovault-reurt/serviceAccounts/firebase-app-hosting-compute@infovault-reurt.iam.gserviceaccount.com:testIamPermissions x-goog-quota-user=projects/infovault-reurt
[debug] [2025-07-29T19:11:02.037Z] >>> [apiv2][body] POST https://iam.googleapis.com/v1/projects/infovault-reurt/serviceAccounts/firebase-app-hosting-compute@infovault-reurt.iam.gserviceaccount.com:testIamPermissions {"permissions":["iam.serviceAccounts.actAs"]}
[debug] [2025-07-29T19:11:02.852Z] <<< [apiv2][status] POST https://iam.googleapis.com/v1/projects/infovault-reurt/serviceAccounts/firebase-app-hosting-compute@infovault-reurt.iam.gserviceaccount.com:testIamPermissions 200
[debug] [2025-07-29T19:11:02.852Z] <<< [apiv2][body] POST https://iam.googleapis.com/v1/projects/infovault-reurt/serviceAccounts/firebase-app-hosting-compute@infovault-reurt.iam.gserviceaccount.com:testIamPermissions {"permissions":["iam.serviceAccounts.actAs"]}
[debug] [2025-07-29T19:11:02.853Z] Checked if tokens are valid: true, expires at: 1753819554881
[debug] [2025-07-29T19:11:02.853Z] Checked if tokens are valid: true, expires at: 1753819554881
[debug] [2025-07-29T19:11:02.853Z] >>> [apiv2][query] POST https://iam.googleapis.com/v1/projects/infovault-reurt/serviceAccounts [none]
[debug] [2025-07-29T19:11:02.853Z] >>> [apiv2][body] POST https://iam.googleapis.com/v1/projects/infovault-reurt/serviceAccounts {"accountId":"firebase-app-hosting-compute","serviceAccount":{"displayName":"Firebase App Hosting compute service account","description":"Default service account used to run builds and deploys for Firebase App Hosting"}}
[debug] [2025-07-29T19:11:03.171Z] <<< [apiv2][status] POST https://iam.googleapis.com/v1/projects/infovault-reurt/serviceAccounts 409
[debug] [2025-07-29T19:11:03.172Z] <<< [apiv2][body] POST https://iam.googleapis.com/v1/projects/infovault-reurt/serviceAccounts [omitted]
[debug] [2025-07-29T19:11:03.172Z] Checked if tokens are valid: true, expires at: 1753819554881
[debug] [2025-07-29T19:11:03.173Z] Checked if tokens are valid: true, expires at: 1753819554881
[debug] [2025-07-29T19:11:03.173Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/infovault-reurt:getIamPolicy [none]
[debug] [2025-07-29T19:11:03.500Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/infovault-reurt:getIamPolicy 200
[debug] [2025-07-29T19:11:03.500Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/infovault-reurt:getIamPolicy {"version":1,"etag":"BwY7Fhk44ug=","bindings":[{"role":"roles/cloudaicompanion.serviceAgent","members":["serviceAccount:service-581885567157@gcp-sa-cloudaicompanion.iam.gserviceaccount.com"]},{"role":"roles/cloudbuild.builds.builder","members":["serviceAccount:581885567157@cloudbuild.gserviceaccount.com"]},{"role":"roles/cloudbuild.serviceAgent","members":["serviceAccount:service-581885567157@gcp-sa-cloudbuild.iam.gserviceaccount.com"]},{"role":"roles/cloudfunctions.developer","members":["serviceAccount:github-action-1027904513@infovault-reurt.iam.gserviceaccount.com"]},{"role":"roles/cloudfunctions.serviceAgent","members":["serviceAccount:service-581885567157@gcf-admin-robot.iam.gserviceaccount.com"]},{"role":"roles/compute.serviceAgent","members":["serviceAccount:service-581885567157@compute-system.iam.gserviceaccount.com"]},{"role":"roles/containerregistry.ServiceAgent","members":["serviceAccount:service-581885567157@containerregistry.iam.gserviceaccount.com"]},{"role":"roles/developerconnect.readTokenAccessor","members":["serviceAccount:firebase-app-hosting-compute@infovault-reurt.iam.gserviceaccount.com"]},{"role":"roles/editor","members":["serviceAccount:581885567157-compute@developer.gserviceaccount.com","serviceAccount:581885567157@cloudservices.gserviceaccount.com","serviceAccount:infovault-reurt@appspot.gserviceaccount.com"]},{"role":"roles/firebase.managementServiceAgent","members":["serviceAccount:service-581885567157@gcp-sa-firebase.iam.gserviceaccount.com"]},{"role":"roles/firebase.sdkAdminServiceAgent","members":["serviceAccount:firebase-adminsdk-fbsvc@infovault-reurt.iam.gserviceaccount.com","serviceAccount:firebase-app-hosting-compute@infovault-reurt.iam.gserviceaccount.com"]},{"role":"roles/firebaseapphosting.computeRunner","members":["serviceAccount:firebase-app-hosting-compute@infovault-reurt.iam.gserviceaccount.com"]},{"role":"roles/firebaseapphosting.serviceAgent","members":["serviceAccount:service-581885567157@gcp-sa-firebaseapphosting.iam.gserviceaccount.com"]},{"role":"roles/firebaseauth.admin","members":["serviceAccount:github-action-1027904513@infovault-reurt.iam.gserviceaccount.com"]},{"role":"roles/firebasehosting.admin","members":["serviceAccount:github-action-1027904513@infovault-reurt.iam.gserviceaccount.com"]},{"role":"roles/firebaserules.system","members":["serviceAccount:service-581885567157@firebase-rules.iam.gserviceaccount.com"]},{"role":"roles/firebasestorage.serviceAgent","members":["serviceAccount:service-581885567157@gcp-sa-firebasestorage.iam.gserviceaccount.com"]},{"role":"roles/firestore.serviceAgent","members":["serviceAccount:service-581885567157@gcp-sa-firestore.iam.gserviceaccount.com"]},{"role":"roles/iam.serviceAccountTokenCreator","members":["serviceAccount:firebase-adminsdk-fbsvc@infovault-reurt.iam.gserviceaccount.com"]},{"role":"roles/owner","members":["user:iapertsonala@gmail.com"]},{"role":"roles/run.serviceAgent","members":["serviceAccount:service-581885567157@serverless-robot-prod.iam.gserviceaccount.com"]},{"role":"roles/run.viewer","members":["serviceAccount:github-action-1027904513@infovault-reurt.iam.gserviceaccount.com"]},{"role":"roles/serviceusage.apiKeysViewer","members":["serviceAccount:github-action-1027904513@infovault-reurt.iam.gserviceaccount.com"]},{"role":"roles/serviceusage.serviceUsageConsumer","members":["serviceAccount:github-action-1027904513@infovault-reurt.iam.gserviceaccount.com"]},{"role":"roles/storage.admin","members":["serviceAccount:firebase-adminsdk-fbsvc@infovault-reurt.iam.gserviceaccount.com"]},{"role":"roles/storage.objectViewer","members":["serviceAccount:firebase-app-hosting-compute@infovault-reurt.iam.gserviceaccount.com"]}]}
[debug] [2025-07-29T19:11:03.501Z] Checked if tokens are valid: true, expires at: 1753819554881
[debug] [2025-07-29T19:11:03.501Z] Checked if tokens are valid: true, expires at: 1753819554881
[debug] [2025-07-29T19:11:03.501Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/infovault-reurt:setIamPolicy [none]
[debug] [2025-07-29T19:11:03.501Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/infovault-reurt:setIamPolicy {"policy":{"version":1,"etag":"BwY7Fhk44ug=","bindings":[{"role":"roles/cloudaicompanion.serviceAgent","members":["serviceAccount:service-581885567157@gcp-sa-cloudaicompanion.iam.gserviceaccount.com"]},{"role":"roles/cloudbuild.builds.builder","members":["serviceAccount:581885567157@cloudbuild.gserviceaccount.com"]},{"role":"roles/cloudbuild.serviceAgent","members":["serviceAccount:service-581885567157@gcp-sa-cloudbuild.iam.gserviceaccount.com"]},{"role":"roles/cloudfunctions.developer","members":["serviceAccount:github-action-1027904513@infovault-reurt.iam.gserviceaccount.com"]},{"role":"roles/cloudfunctions.serviceAgent","members":["serviceAccount:service-581885567157@gcf-admin-robot.iam.gserviceaccount.com"]},{"role":"roles/compute.serviceAgent","members":["serviceAccount:service-581885567157@compute-system.iam.gserviceaccount.com"]},{"role":"roles/containerregistry.ServiceAgent","members":["serviceAccount:service-581885567157@containerregistry.iam.gserviceaccount.com"]},{"role":"roles/developerconnect.readTokenAccessor","members":["serviceAccount:firebase-app-hosting-compute@infovault-reurt.iam.gserviceaccount.com"]},{"role":"roles/editor","members":["serviceAccount:581885567157-compute@developer.gserviceaccount.com","serviceAccount:581885567157@cloudservices.gserviceaccount.com","serviceAccount:infovault-reurt@appspot.gserviceaccount.com"]},{"role":"roles/firebase.managementServiceAgent","members":["serviceAccount:service-581885567157@gcp-sa-firebase.iam.gserviceaccount.com"]},{"role":"roles/firebase.sdkAdminServiceAgent","members":["serviceAccount:firebase-adminsdk-fbsvc@infovault-reurt.iam.gserviceaccount.com","serviceAccount:firebase-app-hosting-compute@infovault-reurt.iam.gserviceaccount.com"]},{"role":"roles/firebaseapphosting.computeRunner","members":["serviceAccount:firebase-app-hosting-compute@infovault-reurt.iam.gserviceaccount.com"]},{"role":"roles/firebaseapphosting.serviceAgent","members":["serviceAccount:service-581885567157@gcp-sa-firebaseapphosting.iam.gserviceaccount.com"]},{"role":"roles/firebaseauth.admin","members":["serviceAccount:github-action-1027904513@infovault-reurt.iam.gserviceaccount.com"]},{"role":"roles/firebasehosting.admin","members":["serviceAccount:github-action-1027904513@infovault-reurt.iam.gserviceaccount.com"]},{"role":"roles/firebaserules.system","members":["serviceAccount:service-581885567157@firebase-rules.iam.gserviceaccount.com"]},{"role":"roles/firebasestorage.serviceAgent","members":["serviceAccount:service-581885567157@gcp-sa-firebasestorage.iam.gserviceaccount.com"]},{"role":"roles/firestore.serviceAgent","members":["serviceAccount:service-581885567157@gcp-sa-firestore.iam.gserviceaccount.com"]},{"role":"roles/iam.serviceAccountTokenCreator","members":["serviceAccount:firebase-adminsdk-fbsvc@infovault-reurt.iam.gserviceaccount.com"]},{"role":"roles/owner","members":["user:iapertsonala@gmail.com"]},{"role":"roles/run.serviceAgent","members":["serviceAccount:service-581885567157@serverless-robot-prod.iam.gserviceaccount.com"]},{"role":"roles/run.viewer","members":["serviceAccount:github-action-1027904513@infovault-reurt.iam.gserviceaccount.com"]},{"role":"roles/serviceusage.apiKeysViewer","members":["serviceAccount:github-action-1027904513@infovault-reurt.iam.gserviceaccount.com"]},{"role":"roles/serviceusage.serviceUsageConsumer","members":["serviceAccount:github-action-1027904513@infovault-reurt.iam.gserviceaccount.com"]},{"role":"roles/storage.admin","members":["serviceAccount:firebase-adminsdk-fbsvc@infovault-reurt.iam.gserviceaccount.com"]},{"role":"roles/storage.objectViewer","members":["serviceAccount:firebase-app-hosting-compute@infovault-reurt.iam.gserviceaccount.com"]}]},"updateMask":"bindings"}
[debug] [2025-07-29T19:11:04.499Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/infovault-reurt:setIamPolicy 200
[debug] [2025-07-29T19:11:04.499Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/infovault-reurt:setIamPolicy {"version":1,"etag":"BwY7Fitq/Ys=","bindings":[{"role":"roles/cloudaicompanion.serviceAgent","members":["serviceAccount:service-581885567157@gcp-sa-cloudaicompanion.iam.gserviceaccount.com"]},{"role":"roles/cloudbuild.builds.builder","members":["serviceAccount:581885567157@cloudbuild.gserviceaccount.com"]},{"role":"roles/cloudbuild.serviceAgent","members":["serviceAccount:service-581885567157@gcp-sa-cloudbuild.iam.gserviceaccount.com"]},{"role":"roles/cloudfunctions.developer","members":["serviceAccount:github-action-1027904513@infovault-reurt.iam.gserviceaccount.com"]},{"role":"roles/cloudfunctions.serviceAgent","members":["serviceAccount:service-581885567157@gcf-admin-robot.iam.gserviceaccount.com"]},{"role":"roles/compute.serviceAgent","members":["serviceAccount:service-581885567157@compute-system.iam.gserviceaccount.com"]},{"role":"roles/containerregistry.ServiceAgent","members":["serviceAccount:service-581885567157@containerregistry.iam.gserviceaccount.com"]},{"role":"roles/developerconnect.readTokenAccessor","members":["serviceAccount:firebase-app-hosting-compute@infovault-reurt.iam.gserviceaccount.com"]},{"role":"roles/editor","members":["serviceAccount:581885567157-compute@developer.gserviceaccount.com","serviceAccount:581885567157@cloudservices.gserviceaccount.com","serviceAccount:infovault-reurt@appspot.gserviceaccount.com"]},{"role":"roles/firebase.managementServiceAgent","members":["serviceAccount:service-581885567157@gcp-sa-firebase.iam.gserviceaccount.com"]},{"role":"roles/firebase.sdkAdminServiceAgent","members":["serviceAccount:firebase-adminsdk-fbsvc@infovault-reurt.iam.gserviceaccount.com","serviceAccount:firebase-app-hosting-compute@infovault-reurt.iam.gserviceaccount.com"]},{"role":"roles/firebaseapphosting.computeRunner","members":["serviceAccount:firebase-app-hosting-compute@infovault-reurt.iam.gserviceaccount.com"]},{"role":"roles/firebaseapphosting.serviceAgent","members":["serviceAccount:service-581885567157@gcp-sa-firebaseapphosting.iam.gserviceaccount.com"]},{"role":"roles/firebaseauth.admin","members":["serviceAccount:github-action-1027904513@infovault-reurt.iam.gserviceaccount.com"]},{"role":"roles/firebasehosting.admin","members":["serviceAccount:github-action-1027904513@infovault-reurt.iam.gserviceaccount.com"]},{"role":"roles/firebaserules.system","members":["serviceAccount:service-581885567157@firebase-rules.iam.gserviceaccount.com"]},{"role":"roles/firebasestorage.serviceAgent","members":["serviceAccount:service-581885567157@gcp-sa-firebasestorage.iam.gserviceaccount.com"]},{"role":"roles/firestore.serviceAgent","members":["serviceAccount:service-581885567157@gcp-sa-firestore.iam.gserviceaccount.com"]},{"role":"roles/iam.serviceAccountTokenCreator","members":["serviceAccount:firebase-adminsdk-fbsvc@infovault-reurt.iam.gserviceaccount.com"]},{"role":"roles/owner","members":["user:iapertsonala@gmail.com"]},{"role":"roles/run.serviceAgent","members":["serviceAccount:service-581885567157@serverless-robot-prod.iam.gserviceaccount.com"]},{"role":"roles/run.viewer","members":["serviceAccount:github-action-1027904513@infovault-reurt.iam.gserviceaccount.com"]},{"role":"roles/serviceusage.apiKeysViewer","members":["serviceAccount:github-action-1027904513@infovault-reurt.iam.gserviceaccount.com"]},{"role":"roles/serviceusage.serviceUsageConsumer","members":["serviceAccount:github-action-1027904513@infovault-reurt.iam.gserviceaccount.com"]},{"role":"roles/storage.admin","members":["serviceAccount:firebase-adminsdk-fbsvc@infovault-reurt.iam.gserviceaccount.com"]},{"role":"roles/storage.objectViewer","members":["serviceAccount:firebase-app-hosting-compute@infovault-reurt.iam.gserviceaccount.com"]}]}
[debug] [2025-07-29T19:11:04.499Z] Checked if tokens are valid: true, expires at: 1753819554881
[debug] [2025-07-29T19:11:04.499Z] Checked if tokens are valid: true, expires at: 1753819554881
[debug] [2025-07-29T19:11:04.500Z] >>> [apiv2][query] GET https://firebaseapphosting.googleapis.com/v1beta/projects/infovault-reurt/locations/-/backends 
[debug] [2025-07-29T19:11:05.506Z] <<< [apiv2][status] GET https://firebaseapphosting.googleapis.com/v1beta/projects/infovault-reurt/locations/-/backends 200
[debug] [2025-07-29T19:11:05.506Z] <<< [apiv2][body] GET https://firebaseapphosting.googleapis.com/v1beta/projects/infovault-reurt/locations/-/backends {"backends":[{"name":"projects/infovault-reurt/locations/europe-west4/backends/mikelapp","createTime":"2025-07-28T18:55:43.612067834Z","updateTime":"2025-07-28T18:55:44.019508Z","labels":{"deployment-tool":"cli-firebase"},"uri":"mikelapp--infovault-reurt.europe-west4.hosted.app","uid":"d1e66594-a561-4759-92d3-8557b0246f36","etag":"9Jg_mguRluLLahlme_lOsDYU_vGAOrtGnImwmpOgI5s","reconciling":false,"servingLocality":"GLOBAL_ACCESS","serviceAccount":"firebase-app-hosting-compute@infovault-reurt.iam.gserviceaccount.com"}]}
[debug] [2025-07-29T19:11:07.615Z] TypeError: Cannot read properties of undefined (reading 'name')
    at C:\Users\iras8\AppData\Roaming\npm\node_modules\firebase-tools\node_modules\@inquirer\checkbox\dist\commonjs\index.js:51:29
    at Array.map (<anonymous>)
    at normalizeChoices (C:\Users\iras8\AppData\Roaming\npm\node_modules\firebase-tools\node_modules\@inquirer\checkbox\dist\commonjs\index.js:39:20)
    at C:\Users\iras8\AppData\Roaming\npm\node_modules\firebase-tools\node_modules\@inquirer\checkbox\dist\commonjs\index.js:72:52
    at C:\Users\iras8\AppData\Roaming\npm\node_modules\firebase-tools\node_modules\@inquirer\core\dist\commonjs\lib\create-prompt.js:120:38
    at store.handleChange (C:\Users\iras8\AppData\Roaming\npm\node_modules\firebase-tools\node_modules\@inquirer\core\dist\commonjs\lib\hook-engine.js:31:17)
    at cycle (C:\Users\iras8\AppData\Roaming\npm\node_modules\firebase-tools\node_modules\@inquirer\core\dist\commonjs\lib\hook-engine.js:33:19)
    at C:\Users\iras8\AppData\Roaming\npm\node_modules\firebase-tools\node_modules\@inquirer\core\dist\commonjs\lib\create-prompt.js:118:13
    at C:\Users\iras8\AppData\Roaming\npm\node_modules\firebase-tools\node_modules\@inquirer\core\dist\commonjs\lib\hook-engine.js:35:16
    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:91:14)
[error] 
[error] Error: An unexpected error has occurred.
[debug] [2025-07-29T19:44:03.240Z] ----------------------------------------------------------------------
[debug] [2025-07-29T19:44:03.243Z] Command:       C:\Program Files\nodejs\node.exe C:\Users\iras8\AppData\Roaming\npm\node_modules\firebase-tools\lib\bin\firebase.js deploy
[debug] [2025-07-29T19:44:03.244Z] CLI Version:   14.11.1
[debug] [2025-07-29T19:44:03.244Z] Platform:      win32
[debug] [2025-07-29T19:44:03.244Z] Node Version:  v22.17.0
[debug] [2025-07-29T19:44:03.244Z] Time:          Tue Jul 29 2025 21:44:03 GMT+0200 (hora de verano de Europa central)
[debug] [2025-07-29T19:44:03.244Z] ----------------------------------------------------------------------
[debug] 
[debug] [2025-07-29T19:44:03.416Z] Object "/apphosting" in "firebase.json" is missing required property: {"missingProperty":"backendId"}
[debug] [2025-07-29T19:44:03.417Z] Field "/apphosting" in "firebase.json" is possibly invalid: must be array
[debug] [2025-07-29T19:44:03.417Z] Field "/apphosting" in "firebase.json" is possibly invalid: must match a schema in anyOf
[debug] [2025-07-29T19:44:03.420Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2025-07-29T19:44:03.420Z] > authorizing via signed-in user (iapertsonala@gmail.com)
[debug] [2025-07-29T19:44:03.420Z] [iam] checking project infovault-reurt for permissions ["firebase.projects.get",null]
[debug] [2025-07-29T19:44:03.421Z] Checked if tokens are valid: true, expires at: 1753819554881
[debug] [2025-07-29T19:44:03.421Z] Checked if tokens are valid: true, expires at: 1753819554881
[debug] [2025-07-29T19:44:03.422Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/infovault-reurt:testIamPermissions [none]
[debug] [2025-07-29T19:44:03.422Z] >>> [apiv2][(partial)header] POST https://cloudresourcemanager.googleapis.com/v1/projects/infovault-reurt:testIamPermissions x-goog-quota-user=projects/infovault-reurt
[debug] [2025-07-29T19:44:03.423Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/infovault-reurt:testIamPermissions {"permissions":["firebase.projects.get",null]}
[debug] [2025-07-29T19:44:04.803Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/infovault-reurt:testIamPermissions 200
[debug] [2025-07-29T19:44:04.803Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/infovault-reurt:testIamPermissions {"permissions":["firebase.projects.get"]}
[debug] [2025-07-29T19:44:04.804Z] [iam] error while checking permissions, command may fail: Authorization failed. This account is missing the following required permissions on project infovault-reurt:

  
[info] 
[info] === Deploying to 'infovault-reurt'...
[info] 
[info] i  deploying apphosting 
[debug] [2025-07-29T19:44:04.808Z] Checked if tokens are valid: true, expires at: 1753819554881
[debug] [2025-07-29T19:44:04.808Z] Checked if tokens are valid: true, expires at: 1753819554881
[debug] [2025-07-29T19:44:04.808Z] >>> [apiv2][query] POST https://iam.googleapis.com/v1/projects/infovault-reurt/serviceAccounts/firebase-app-hosting-compute@infovault-reurt.iam.gserviceaccount.com:testIamPermissions [none]
[debug] [2025-07-29T19:44:04.808Z] >>> [apiv2][(partial)header] POST https://iam.googleapis.com/v1/projects/infovault-reurt/serviceAccounts/firebase-app-hosting-compute@infovault-reurt.iam.gserviceaccount.com:testIamPermissions x-goog-quota-user=projects/infovault-reurt
[debug] [2025-07-29T19:44:04.808Z] >>> [apiv2][body] POST https://iam.googleapis.com/v1/projects/infovault-reurt/serviceAccounts/firebase-app-hosting-compute@infovault-reurt.iam.gserviceaccount.com:testIamPermissions {"permissions":["iam.serviceAccounts.actAs"]}
[debug] [2025-07-29T19:44:05.977Z] <<< [apiv2][status] POST https://iam.googleapis.com/v1/projects/infovault-reurt/serviceAccounts/firebase-app-hosting-compute@infovault-reurt.iam.gserviceaccount.com:testIamPermissions 200
[debug] [2025-07-29T19:44:05.977Z] <<< [apiv2][body] POST https://iam.googleapis.com/v1/projects/infovault-reurt/serviceAccounts/firebase-app-hosting-compute@infovault-reurt.iam.gserviceaccount.com:testIamPermissions {"permissions":["iam.serviceAccounts.actAs"]}
[debug] [2025-07-29T19:44:05.978Z] Checked if tokens are valid: true, expires at: 1753819554881
[debug] [2025-07-29T19:44:05.978Z] Checked if tokens are valid: true, expires at: 1753819554881
[debug] [2025-07-29T19:44:05.978Z] >>> [apiv2][query] POST https://iam.googleapis.com/v1/projects/infovault-reurt/serviceAccounts [none]
[debug] [2025-07-29T19:44:05.978Z] >>> [apiv2][body] POST https://iam.googleapis.com/v1/projects/infovault-reurt/serviceAccounts {"accountId":"firebase-app-hosting-compute","serviceAccount":{"displayName":"Firebase App Hosting compute service account","description":"Default service account used to run builds and deploys for Firebase App Hosting"}}
[debug] [2025-07-29T19:44:06.815Z] <<< [apiv2][status] POST https://iam.googleapis.com/v1/projects/infovault-reurt/serviceAccounts 409
[debug] [2025-07-29T19:44:06.815Z] <<< [apiv2][body] POST https://iam.googleapis.com/v1/projects/infovault-reurt/serviceAccounts [omitted]
[debug] [2025-07-29T19:44:06.816Z] Checked if tokens are valid: true, expires at: 1753819554881
[debug] [2025-07-29T19:44:06.816Z] Checked if tokens are valid: true, expires at: 1753819554881
[debug] [2025-07-29T19:44:06.816Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/infovault-reurt:getIamPolicy [none]
[debug] [2025-07-29T19:44:07.090Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/infovault-reurt:getIamPolicy 200
[debug] [2025-07-29T19:44:07.090Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/infovault-reurt:getIamPolicy {"version":1,"etag":"BwY7Fitq/Ys=","bindings":[{"role":"roles/cloudaicompanion.serviceAgent","members":["serviceAccount:service-581885567157@gcp-sa-cloudaicompanion.iam.gserviceaccount.com"]},{"role":"roles/cloudbuild.builds.builder","members":["serviceAccount:581885567157@cloudbuild.gserviceaccount.com"]},{"role":"roles/cloudbuild.serviceAgent","members":["serviceAccount:service-581885567157@gcp-sa-cloudbuild.iam.gserviceaccount.com"]},{"role":"roles/cloudfunctions.developer","members":["serviceAccount:github-action-1027904513@infovault-reurt.iam.gserviceaccount.com"]},{"role":"roles/cloudfunctions.serviceAgent","members":["serviceAccount:service-581885567157@gcf-admin-robot.iam.gserviceaccount.com"]},{"role":"roles/compute.serviceAgent","members":["serviceAccount:service-581885567157@compute-system.iam.gserviceaccount.com"]},{"role":"roles/containerregistry.ServiceAgent","members":["serviceAccount:service-581885567157@containerregistry.iam.gserviceaccount.com"]},{"role":"roles/developerconnect.readTokenAccessor","members":["serviceAccount:firebase-app-hosting-compute@infovault-reurt.iam.gserviceaccount.com"]},{"role":"roles/editor","members":["serviceAccount:581885567157-compute@developer.gserviceaccount.com","serviceAccount:581885567157@cloudservices.gserviceaccount.com","serviceAccount:infovault-reurt@appspot.gserviceaccount.com"]},{"role":"roles/firebase.managementServiceAgent","members":["serviceAccount:service-581885567157@gcp-sa-firebase.iam.gserviceaccount.com"]},{"role":"roles/firebase.sdkAdminServiceAgent","members":["serviceAccount:firebase-adminsdk-fbsvc@infovault-reurt.iam.gserviceaccount.com","serviceAccount:firebase-app-hosting-compute@infovault-reurt.iam.gserviceaccount.com"]},{"role":"roles/firebaseapphosting.computeRunner","members":["serviceAccount:firebase-app-hosting-compute@infovault-reurt.iam.gserviceaccount.com"]},{"role":"roles/firebaseapphosting.serviceAgent","members":["serviceAccount:service-581885567157@gcp-sa-firebaseapphosting.iam.gserviceaccount.com"]},{"role":"roles/firebaseauth.admin","members":["serviceAccount:github-action-1027904513@infovault-reurt.iam.gserviceaccount.com"]},{"role":"roles/firebasehosting.admin","members":["serviceAccount:github-action-1027904513@infovault-reurt.iam.gserviceaccount.com"]},{"role":"roles/firebaserules.system","members":["serviceAccount:service-581885567157@firebase-rules.iam.gserviceaccount.com"]},{"role":"roles/firebasestorage.serviceAgent","members":["serviceAccount:service-581885567157@gcp-sa-firebasestorage.iam.gserviceaccount.com"]},{"role":"roles/firestore.serviceAgent","members":["serviceAccount:service-581885567157@gcp-sa-firestore.iam.gserviceaccount.com"]},{"role":"roles/iam.serviceAccountTokenCreator","members":["serviceAccount:firebase-adminsdk-fbsvc@infovault-reurt.iam.gserviceaccount.com"]},{"role":"roles/owner","members":["user:iapertsonala@gmail.com"]},{"role":"roles/run.serviceAgent","members":["serviceAccount:service-581885567157@serverless-robot-prod.iam.gserviceaccount.com"]},{"role":"roles/run.viewer","members":["serviceAccount:github-action-1027904513@infovault-reurt.iam.gserviceaccount.com"]},{"role":"roles/serviceusage.apiKeysViewer","members":["serviceAccount:github-action-1027904513@infovault-reurt.iam.gserviceaccount.com"]},{"role":"roles/serviceusage.serviceUsageConsumer","members":["serviceAccount:github-action-1027904513@infovault-reurt.iam.gserviceaccount.com"]},{"role":"roles/storage.admin","members":["serviceAccount:firebase-adminsdk-fbsvc@infovault-reurt.iam.gserviceaccount.com"]},{"role":"roles/storage.objectViewer","members":["serviceAccount:firebase-app-hosting-compute@infovault-reurt.iam.gserviceaccount.com"]}]}
[debug] [2025-07-29T19:44:07.091Z] Checked if tokens are valid: true, expires at: 1753819554881
[debug] [2025-07-29T19:44:07.091Z] Checked if tokens are valid: true, expires at: 1753819554881
[debug] [2025-07-29T19:44:07.091Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/infovault-reurt:setIamPolicy [none]
[debug] [2025-07-29T19:44:07.091Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/infovault-reurt:setIamPolicy {"policy":{"version":1,"etag":"BwY7Fitq/Ys=","bindings":[{"role":"roles/cloudaicompanion.serviceAgent","members":["serviceAccount:service-581885567157@gcp-sa-cloudaicompanion.iam.gserviceaccount.com"]},{"role":"roles/cloudbuild.builds.builder","members":["serviceAccount:581885567157@cloudbuild.gserviceaccount.com"]},{"role":"roles/cloudbuild.serviceAgent","members":["serviceAccount:service-581885567157@gcp-sa-cloudbuild.iam.gserviceaccount.com"]},{"role":"roles/cloudfunctions.developer","members":["serviceAccount:github-action-1027904513@infovault-reurt.iam.gserviceaccount.com"]},{"role":"roles/cloudfunctions.serviceAgent","members":["serviceAccount:service-581885567157@gcf-admin-robot.iam.gserviceaccount.com"]},{"role":"roles/compute.serviceAgent","members":["serviceAccount:service-581885567157@compute-system.iam.gserviceaccount.com"]},{"role":"roles/containerregistry.ServiceAgent","members":["serviceAccount:service-581885567157@containerregistry.iam.gserviceaccount.com"]},{"role":"roles/developerconnect.readTokenAccessor","members":["serviceAccount:firebase-app-hosting-compute@infovault-reurt.iam.gserviceaccount.com"]},{"role":"roles/editor","members":["serviceAccount:581885567157-compute@developer.gserviceaccount.com","serviceAccount:581885567157@cloudservices.gserviceaccount.com","serviceAccount:infovault-reurt@appspot.gserviceaccount.com"]},{"role":"roles/firebase.managementServiceAgent","members":["serviceAccount:service-581885567157@gcp-sa-firebase.iam.gserviceaccount.com"]},{"role":"roles/firebase.sdkAdminServiceAgent","members":["serviceAccount:firebase-adminsdk-fbsvc@infovault-reurt.iam.gserviceaccount.com","serviceAccount:firebase-app-hosting-compute@infovault-reurt.iam.gserviceaccount.com"]},{"role":"roles/firebaseapphosting.computeRunner","members":["serviceAccount:firebase-app-hosting-compute@infovault-reurt.iam.gserviceaccount.com"]},{"role":"roles/firebaseapphosting.serviceAgent","members":["serviceAccount:service-581885567157@gcp-sa-firebaseapphosting.iam.gserviceaccount.com"]},{"role":"roles/firebaseauth.admin","members":["serviceAccount:github-action-1027904513@infovault-reurt.iam.gserviceaccount.com"]},{"role":"roles/firebasehosting.admin","members":["serviceAccount:github-action-1027904513@infovault-reurt.iam.gserviceaccount.com"]},{"role":"roles/firebaserules.system","members":["serviceAccount:service-581885567157@firebase-rules.iam.gserviceaccount.com"]},{"role":"roles/firebasestorage.serviceAgent","members":["serviceAccount:service-581885567157@gcp-sa-firebasestorage.iam.gserviceaccount.com"]},{"role":"roles/firestore.serviceAgent","members":["serviceAccount:service-581885567157@gcp-sa-firestore.iam.gserviceaccount.com"]},{"role":"roles/iam.serviceAccountTokenCreator","members":["serviceAccount:firebase-adminsdk-fbsvc@infovault-reurt.iam.gserviceaccount.com"]},{"role":"roles/owner","members":["user:iapertsonala@gmail.com"]},{"role":"roles/run.serviceAgent","members":["serviceAccount:service-581885567157@serverless-robot-prod.iam.gserviceaccount.com"]},{"role":"roles/run.viewer","members":["serviceAccount:github-action-1027904513@infovault-reurt.iam.gserviceaccount.com"]},{"role":"roles/serviceusage.apiKeysViewer","members":["serviceAccount:github-action-1027904513@infovault-reurt.iam.gserviceaccount.com"]},{"role":"roles/serviceusage.serviceUsageConsumer","members":["serviceAccount:github-action-1027904513@infovault-reurt.iam.gserviceaccount.com"]},{"role":"roles/storage.admin","members":["serviceAccount:firebase-adminsdk-fbsvc@infovault-reurt.iam.gserviceaccount.com"]},{"role":"roles/storage.objectViewer","members":["serviceAccount:firebase-app-hosting-compute@infovault-reurt.iam.gserviceaccount.com"]}]},"updateMask":"bindings"}
[debug] [2025-07-29T19:44:08.265Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/infovault-reurt:setIamPolicy 200
[debug] [2025-07-29T19:44:08.266Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/infovault-reurt:setIamPolicy {"version":1,"etag":"BwY7FqGni20=","bindings":[{"role":"roles/cloudaicompanion.serviceAgent","members":["serviceAccount:service-581885567157@gcp-sa-cloudaicompanion.iam.gserviceaccount.com"]},{"role":"roles/cloudbuild.builds.builder","members":["serviceAccount:581885567157@cloudbuild.gserviceaccount.com"]},{"role":"roles/cloudbuild.serviceAgent","members":["serviceAccount:service-581885567157@gcp-sa-cloudbuild.iam.gserviceaccount.com"]},{"role":"roles/cloudfunctions.developer","members":["serviceAccount:github-action-1027904513@infovault-reurt.iam.gserviceaccount.com"]},{"role":"roles/cloudfunctions.serviceAgent","members":["serviceAccount:service-581885567157@gcf-admin-robot.iam.gserviceaccount.com"]},{"role":"roles/compute.serviceAgent","members":["serviceAccount:service-581885567157@compute-system.iam.gserviceaccount.com"]},{"role":"roles/containerregistry.ServiceAgent","members":["serviceAccount:service-581885567157@containerregistry.iam.gserviceaccount.com"]},{"role":"roles/developerconnect.readTokenAccessor","members":["serviceAccount:firebase-app-hosting-compute@infovault-reurt.iam.gserviceaccount.com"]},{"role":"roles/editor","members":["serviceAccount:581885567157-compute@developer.gserviceaccount.com","serviceAccount:581885567157@cloudservices.gserviceaccount.com","serviceAccount:infovault-reurt@appspot.gserviceaccount.com"]},{"role":"roles/firebase.managementServiceAgent","members":["serviceAccount:service-581885567157@gcp-sa-firebase.iam.gserviceaccount.com"]},{"role":"roles/firebase.sdkAdminServiceAgent","members":["serviceAccount:firebase-adminsdk-fbsvc@infovault-reurt.iam.gserviceaccount.com","serviceAccount:firebase-app-hosting-compute@infovault-reurt.iam.gserviceaccount.com"]},{"role":"roles/firebaseapphosting.computeRunner","members":["serviceAccount:firebase-app-hosting-compute@infovault-reurt.iam.gserviceaccount.com"]},{"role":"roles/firebaseapphosting.serviceAgent","members":["serviceAccount:service-581885567157@gcp-sa-firebaseapphosting.iam.gserviceaccount.com"]},{"role":"roles/firebaseauth.admin","members":["serviceAccount:github-action-1027904513@infovault-reurt.iam.gserviceaccount.com"]},{"role":"roles/firebasehosting.admin","members":["serviceAccount:github-action-1027904513@infovault-reurt.iam.gserviceaccount.com"]},{"role":"roles/firebaserules.system","members":["serviceAccount:service-581885567157@firebase-rules.iam.gserviceaccount.com"]},{"role":"roles/firebasestorage.serviceAgent","members":["serviceAccount:service-581885567157@gcp-sa-firebasestorage.iam.gserviceaccount.com"]},{"role":"roles/firestore.serviceAgent","members":["serviceAccount:service-581885567157@gcp-sa-firestore.iam.gserviceaccount.com"]},{"role":"roles/iam.serviceAccountTokenCreator","members":["serviceAccount:firebase-adminsdk-fbsvc@infovault-reurt.iam.gserviceaccount.com"]},{"role":"roles/owner","members":["user:iapertsonala@gmail.com"]},{"role":"roles/run.serviceAgent","members":["serviceAccount:service-581885567157@serverless-robot-prod.iam.gserviceaccount.com"]},{"role":"roles/run.viewer","members":["serviceAccount:github-action-1027904513@infovault-reurt.iam.gserviceaccount.com"]},{"role":"roles/serviceusage.apiKeysViewer","members":["serviceAccount:github-action-1027904513@infovault-reurt.iam.gserviceaccount.com"]},{"role":"roles/serviceusage.serviceUsageConsumer","members":["serviceAccount:github-action-1027904513@infovault-reurt.iam.gserviceaccount.com"]},{"role":"roles/storage.admin","members":["serviceAccount:firebase-adminsdk-fbsvc@infovault-reurt.iam.gserviceaccount.com"]},{"role":"roles/storage.objectViewer","members":["serviceAccount:firebase-app-hosting-compute@infovault-reurt.iam.gserviceaccount.com"]}]}
[debug] [2025-07-29T19:44:08.266Z] Checked if tokens are valid: true, expires at: 1753819554881
[debug] [2025-07-29T19:44:08.266Z] Checked if tokens are valid: true, expires at: 1753819554881
[debug] [2025-07-29T19:44:08.266Z] >>> [apiv2][query] GET https://firebaseapphosting.googleapis.com/v1beta/projects/infovault-reurt/locations/-/backends 
[debug] [2025-07-29T19:44:09.351Z] <<< [apiv2][status] GET https://firebaseapphosting.googleapis.com/v1beta/projects/infovault-reurt/locations/-/backends 200
[debug] [2025-07-29T19:44:09.352Z] <<< [apiv2][body] GET https://firebaseapphosting.googleapis.com/v1beta/projects/infovault-reurt/locations/-/backends {"backends":[{"name":"projects/infovault-reurt/locations/europe-west4/backends/mikelapp","createTime":"2025-07-28T18:55:43.612067834Z","updateTime":"2025-07-28T18:55:44.019508Z","labels":{"deployment-tool":"cli-firebase"},"uri":"mikelapp--infovault-reurt.europe-west4.hosted.app","uid":"d1e66594-a561-4759-92d3-8557b0246f36","etag":"9Jg_mguRluLLahlme_lOsDYU_vGAOrtGnImwmpOgI5s","reconciling":false,"servingLocality":"GLOBAL_ACCESS","serviceAccount":"firebase-app-hosting-compute@infovault-reurt.iam.gserviceaccount.com"}]}
[debug] [2025-07-29T19:44:12.213Z] TypeError: Cannot read properties of undefined (reading 'name')
    at C:\Users\iras8\AppData\Roaming\npm\node_modules\firebase-tools\node_modules\@inquirer\checkbox\dist\commonjs\index.js:51:29
    at Array.map (<anonymous>)
    at normalizeChoices (C:\Users\iras8\AppData\Roaming\npm\node_modules\firebase-tools\node_modules\@inquirer\checkbox\dist\commonjs\index.js:39:20)
    at C:\Users\iras8\AppData\Roaming\npm\node_modules\firebase-tools\node_modules\@inquirer\checkbox\dist\commonjs\index.js:72:52
    at C:\Users\iras8\AppData\Roaming\npm\node_modules\firebase-tools\node_modules\@inquirer\core\dist\commonjs\lib\create-prompt.js:120:38
    at store.handleChange (C:\Users\iras8\AppData\Roaming\npm\node_modules\firebase-tools\node_modules\@inquirer\core\dist\commonjs\lib\hook-engine.js:31:17)
    at cycle (C:\Users\iras8\AppData\Roaming\npm\node_modules\firebase-tools\node_modules\@inquirer\core\dist\commonjs\lib\hook-engine.js:33:19)
    at C:\Users\iras8\AppData\Roaming\npm\node_modules\firebase-tools\node_modules\@inquirer\core\dist\commonjs\lib\create-prompt.js:118:13
    at C:\Users\iras8\AppData\Roaming\npm\node_modules\firebase-tools\node_modules\@inquirer\core\dist\commonjs\lib\hook-engine.js:35:16
    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:91:14)
[error] 
[error] Error: An unexpected error has occurred.
